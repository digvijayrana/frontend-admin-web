<div class="attendance-page container">
  <div class="header">
    <div>
      <h2>Daily Attendance</h2>
      <div class="sub">Date: <input type="date" [(ngModel)]="date" /></div>
    </div>
    <div class="actions">
      <input placeholder="Search by name or roll" [(ngModel)]="filter" />
      <button (click)="filter=''">Clear</button>
    </div>
  </div>
  <div class="stats">
    <div class="stat-card present">
      <div class="label">Present</div>
      <div class="value">{{ totalPresent }}</div>
      <div class="sub">Students</div>
    </div>
    <div class="stat-card absent">
      <div class="label">Absent</div>
      <div class="value">{{ totalAbsent }}</div>
      <div class="sub">Students</div>
    </div>
    <div class="stat-card percent">
      <div class="label">Attendance</div>
      <div class="value">{{ attendancePercent }}%</div>
      <div class="sub">Overall</div>
    </div>
  </div>

  <div class="table-wrap">
    <table class="att-table">
      <thead>
        <tr><th>Roll</th><th>Date</th><th>Name</th><th>Status</th></tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of filtered()" class="row">
          <td>{{ r.roll }}</td>
          <td>{{ date | date:'mediumDate' }}</td>
          <td>{{ r.name }}</td>
          <td>
            <span class="status" [class.present]="r.status === 'Present'" [class.absent]="r.status === 'Absent'">{{ r.status }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
